<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Day 4: å•†åŠ¡è¿ä½œä¸ç®¡ç†</title>
    <style>
        :root {
            --primary: #007aff; /* Day 4 æ¢æˆç»å…¸è“è‰² */
            --text-main: #1c1c1e;
            --text-sub: #8e8e93;
            --glass-bg: rgba(255, 255, 255, 0.65);
            --glass-border: rgba(255, 255, 255, 0.2);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", Helvetica, Arial, sans-serif;
            /* æ¢äº†ä¸€ä¸ªæ·±é‚ƒçš„è“è‰²æ¸å˜èƒŒæ™¯ */
            background: linear-gradient(135deg, #a1c4fd 0%, #c2e9fb 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
            -webkit-tap-highlight-color: transparent;
            overflow: hidden;
        }

        .glass-panel {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
        }

        .header {
            width: 100%; max-width: 360px; margin-bottom: 25px; padding: 10px 15px; border-radius: 20px;
            display: flex; justify-content: space-between; align-items: center; box-sizing: border-box;
        }
        .home-btn { text-decoration: none; font-size: 1.2rem; background: rgba(255,255,255,0.5); width: 36px; height: 36px; border-radius: 50%; display: flex; align-items: center; justify-content: center; }
        .progress-bar { flex-grow: 1; height: 6px; background: rgba(0,0,0,0.1); border-radius: 3px; margin: 0 15px; overflow: hidden; }
        .progress-fill { height: 100%; background: var(--primary); width: 0%; transition: width 0.3s ease; }
        .counter { font-size: 0.9rem; color: var(--text-main); font-family: monospace; font-weight: bold; }

        .scene { width: 100%; max-width: 360px; height: 520px; perspective: 1200px; position: relative; z-index: 10; }
        .card { width: 100%; height: 100%; position: relative; transition: transform 0.6s cubic-bezier(0.4, 0.2, 0.2, 1); transform-style: preserve-3d; border-radius: 24px; box-shadow: 0 20px 40px -10px rgba(0, 0, 0, 0.15); }
        .card.is-flipped { transform: rotateY(180deg); }
        .face { position: absolute; width: 100%; height: 100%; backface-visibility: hidden; -webkit-backface-visibility: hidden; border-radius: 24px; padding: 30px; box-sizing: border-box; background: #fff; display: flex; flex-direction: column; align-items: center; text-align: center; }

        .front { justify-content: center; background: linear-gradient(145deg, #ffffff 0%, #f0f7ff 100%); }
        .english-word { font-size: 3rem; font-weight: 800; color: var(--text-main); line-height: 1.1; margin-bottom: 25px; }
        .speaker { font-size: 1.4rem; padding: 12px; background: #f2f2f7; border-radius: 50%; cursor: pointer; color: var(--primary); transition: 0.2s; }
        .hint { position: absolute; bottom: 30px; font-size: 0.75rem; color: #d1d1d6; letter-spacing: 1px; text-transform: uppercase; }

        .back { transform: rotateY(180deg); justify-content: center; }
        .cn-meaning { font-size: 2rem; font-weight: 800; color: var(--primary); margin-bottom: 20px; line-height: 1.3; }
        .divider { width: 40px; height: 4px; background: #f2f2f7; border-radius: 2px; margin-bottom: 20px; }
        .note-content { font-size: 1.05rem; line-height: 1.6; color: #444; white-space: pre-wrap; font-weight: 500; width: 100%; text-align: left; max-height: 260px; overflow-y: auto; }

        .controls { width: 100%; max-width: 360px; display: flex; gap: 10px; margin-top: 25px; padding: 10px; border-radius: 22px; box-sizing: border-box; }
        .btn { flex: 1; padding: 14px 10px; border: none; border-radius: 16px; font-size: 0.95rem; font-weight: 700; cursor: pointer; transition: 0.1s; display: flex; align-items: center; justify-content: center; }
        .btn-nav { background: rgba(255,255,255,0.5); color: var(--text-main); }
        .btn-master { background: rgba(0, 122, 255, 0.1); color: var(--primary); }
        .btn:active { transform: scale(0.96); background: rgba(0,0,0,0.05); }
    </style>
</head>
<body>

    <div class="header glass-panel">
        <a href="index.html" class="home-btn">ğŸ </a>
        <div class="progress-bar"><div class="progress-fill" id="fill"></div></div>
        <div class="counter" id="counter">1/32</div>
    </div>

    <div class="scene">
        <div class="card" id="card">
            <div class="face front">
                <div class="english-word" id="word">Loading...</div>
                <div class="speaker" onclick="speak(event)">ğŸ”Š</div>
                <div class="hint">Tap to flip</div>
            </div>
            <div class="face back">
                <div class="cn-meaning" id="cn"></div>
                <div class="divider"></div>
                <div class="note-content" id="note"></div>
            </div>
        </div>
    </div>

    <div class="controls glass-panel">
        <button class="btn btn-nav" onclick="prevCard()">â† ä¸Šä¸ª</button>
        <button class="btn btn-master" onclick="markMastered()">âœ… å·²</button>
        <button class="btn btn-nav" onclick="nextCard()">ä¸‹ä¸ª âœ</button>
    </div>

    <script>
        const rawData = [
            { w: "Local", cn: "å½“åœ°çš„ï¼›æœ¬åœ°çš„", note: "local community (å½“åœ°ç¤¾åŒº)\nlocal businesses (å½“åœ°ä¼ä¸š)" },
            { w: "Contract", cn: "åˆåŒï¼›ç­¾çº¦", note: "contract A out to B (å¤–åŒ…)\nsign a contract (ç­¾åˆåŒ)\nbreach of contract (è¿çº¦)" },
            { w: "Board", cn: "è‘£äº‹ä¼šï¼›ç™»æœº", note: "Board of Directors (è‘£äº‹ä¼š)\nacross the board (å…¨é¢åœ°)\nboard a plane (ç™»æœº)" },
            { w: "Potential", cn: "æ½œåœ¨çš„ï¼›æ½œåŠ›", note: "potential customer (æ½œåœ¨å®¢æˆ·)\nreach full potential (å‘æŒ¥æ½œåŠ›)" },
            { w: "Delay", cn: "æ¨è¿Ÿï¼›è€½æ", note: "delay in shipment (è¿è¾“å»¶è¯¯)\nwithout delay (ç«‹å³)" },
            { w: "Procedure", cn: "ç¨‹åºï¼›æ­¥éª¤", note: "SOP (æ ‡å‡†ä½œä¸šç¨‹åº)\nsafety procedures (å®‰å…¨è§„èŒƒ)" },
            { w: "Approve", cn: "æ‰¹å‡†ï¼›èµæˆ", note: "Approve sth (æ‰¹å‡† - é¢„ç®—)\nApprove of sth (èµæˆ)\nApproval [n.] (è·å¾—æ‰¹å‡†)" },
            { w: "Institute", cn: "æœºæ„ï¼›å»ºç«‹", note: "research institute (ç ”ç©¶æ‰€)\ninstitute new policies (åˆ¶å®šæ”¿ç­–)" },
            { w: "Issue", cn: "é—®é¢˜ï¼›å‘è¡Œ", note: "monthly issue (æœŸ)\nissue a refund (é€€æ¬¾)\naddress the issue (è§£å†³é—®é¢˜)" },
            { w: "Branch", cn: "åˆ†å…¬å¸ï¼›éƒ¨é—¨", note: "branch office (åˆ†å…¬å¸)\nregional branch (åŒºåŸŸåˆ†éƒ¨)" },
            { w: "Predict", cn: "é¢„æµ‹", note: "predict sales growth (é¢„æµ‹å¢é•¿)\npredictable outcome (å¯é¢„è§ç»“æœ)" },
            { w: "Maintenance", cn: "ç»´æŠ¤ï¼›ä¿å…»", note: "maintenance department (ç»´ä¿®éƒ¨)\nroutine maintenance (å¸¸è§„ä¿å…»)" },
            { w: "Entire", cn: "æ•´ä¸ªçš„ï¼›å…¨éƒ¨çš„", note: "entire staff (å…¨ä½“å‘˜å·¥)\nentire project (æ•´ä¸ªé¡¹ç›®)" },
            { w: "Lower", cn: "é™ä½", note: "lower the price (é™ä»·)\nlower the cost (é™ä½æˆæœ¬)" },
            { w: "Shift", cn: "è½®ç­ï¼›è½¬å˜", note: "night shift (å¤œç­)\nshift focus (è½¬ç§»é‡å¿ƒ)" },
            { w: "Attach", cn: "é™„ä¸Šï¼›è¿æ¥", note: "attach A to B\nplease find the attached file (è§é™„ä»¶)" },
            { w: "Claim", cn: "å£°ç§°ï¼›ç´¢èµ”", note: "file an insurance claim (ç†èµ”)\nbaggage claim (è¡Œææå–å¤„)" },
            { w: "Promotion", cn: "æ™‹å‡ï¼›ä¿ƒé”€", note: "get a promotion (å‡èŒ)\nsales promotion (ä¿ƒé”€æ´»åŠ¨)" },
            { w: "Publication", cn: "å‡ºç‰ˆç‰©", note: "research publication\ndate of publication (å‡ºç‰ˆæ—¥æœŸ)" },
            { w: "Suppose", cn: "å‡è®¾ï¼›è®¤ä¸º", note: "be supposed to do (ç†åº”/è¢«æœŸæœ›åš...)" },
            { w: "Reference", cn: "å‚è€ƒï¼›æ¨èä¿¡", note: "reference letter (æ¨èä¿¡)\ncheck references (èƒŒæ™¯è°ƒæŸ¥)" },
            { w: "Establish", cn: "å»ºç«‹ï¼›ç¡®ç«‹", note: "establish a company (å»ºç«‹å…¬å¸)\nestablish a reputation (å»ºç«‹åå£°)" },
            { w: "Merchandise", cn: "å•†å“ (ä¸å¯æ•°)", note: "display merchandise (å±•ç¤ºå•†å“)\nquality merchandise (ä¼˜è´¨å•†å“)" },
            { w: "Associate", cn: "åŒäº‹ï¼›å‰¯çš„", note: "sales associate (åº—å‘˜)\nassociate director (å‰¯æ€»ç›‘)" },
            { w: "Banquet", cn: "å®´ä¼šï¼›ç››å®´", note: "awards banquet (é¢å¥–æ™šå®´)\ncharity banquet (æ…ˆå–„æ™šå®´)" },
            { w: "Lean", cn: "å€¾æ–œï¼›ç²¾ç®€çš„", note: "lean against the wall (é å¢™)\nlean production (ç²¾ç›Šç”Ÿäº§)" },
            { w: "Examine", cn: "æ£€æŸ¥ï¼›è°ƒæŸ¥", note: "examine the document (æ£€æŸ¥æ–‡ä»¶)\nexamine the possibility (è°ƒæŸ¥å¯èƒ½æ€§)" },
            { w: "Finance", cn: "è´¢æ”¿ï¼›èµ„åŠ©", note: "finance department (è´¢åŠ¡éƒ¨)\nfinance a project (èµ„åŠ©é¡¹ç›®)" },
            { w: "Appropriate", cn: "é€‚å½“çš„", note: "take appropriate action (é‡‡å–è¡ŒåŠ¨)\nhighly appropriate (éå¸¸åˆé€‚)" },
            { w: "Warranty", cn: "ä¿ä¿®", note: "under warranty (åœ¨ä¿ä¿®æœŸå†…)\nextended warranty (å»¶ä¿)" },
            { w: "Investment", cn: "æŠ•èµ„", note: "make an investment\nreturn on investment (ROI å›æŠ¥ç‡)" },
            { w: "Certificate", cn: "è¯ä¹¦ï¼›è¯æ˜", note: "gift certificate (ç¤¼åˆ¸)\nmedical certificate (è¯Šæ–­è¯æ˜)" }
        ];

        let cards = [...rawData];
        let idx = 0;
        const cardEl = document.getElementById('card');

        function render() {
            if(cards.length === 0) {
                document.querySelector('.scene').innerHTML = "<div style='text-align:center; margin-top:50%; color:#fff; font-weight:bold; text-shadow:0 2px 4px rgba(0,0,0,0.2);'>ğŸ‰ DAY 4 COMPLETE!</div>";
                return;
            }
            const item = cards[idx];
            document.getElementById('word').innerText = item.w;
            document.getElementById('cn').innerText = item.cn;
            document.getElementById('note').innerText = item.note;
            document.getElementById('counter').innerText = (idx + 1) + " / " + cards.length;
            document.getElementById('fill').style.width = ((idx + 1) / cards.length * 100) + "%";
            cardEl.classList.remove('is-flipped');
        }

        cardEl.addEventListener('click', () => cardEl.classList.toggle('is-flipped'));
        function prevCard() { idx = (idx - 1 + cards.length) % cards.length; render(); }
        function nextCard() { idx = (idx + 1) % cards.length; render(); }
        function markMastered() { cards.splice(idx, 1); if(idx >= cards.length) idx = 0; render(); }
        function speak(e) { e.stopPropagation(); const u = new SpeechSynthesisUtterance(cards[idx].w); u.lang = 'en-US'; u.rate = 0.9; speechSynthesis.speak(u); }
        document.addEventListener('keydown', (e) => {
            if(e.code === 'Space') { e.preventDefault(); cardEl.click(); }
            if(e.code === 'ArrowRight') nextCard();
            if(e.code === 'ArrowLeft') prevCard();
        });
        render();
    </script>
</body>
</html>